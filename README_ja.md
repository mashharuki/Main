# ğŸ¥ NextMed

> **æ¬¡ä¸–ä»£åŒ»ç™‚ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  - ã‚¼ãƒ­çŸ¥è­˜è¨¼æ˜ã§å®Ÿç¾ã™ã‚‹æ‚£è€…ãƒ‡ãƒ¼ã‚¿ä¸»æ¨©ã¨AIåŒ»ç™‚ã®æœªæ¥**

[![Midnight Network](https://img.shields.io/badge/Midnight-Blockchain-blue)](https://midnight.network/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.x-blue)](https://www.typescriptlang.org/)
[![Next.js](https://img.shields.io/badge/Next.js-16.0-black)](https://nextjs.org/)

## ğŸŒŸ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

NextMedã¯ã€**Midnight Blockchain**ã®ã‚¼ãƒ­çŸ¥è­˜è¨¼æ˜ï¼ˆZKï¼‰æŠ€è¡“ã‚’æ´»ç”¨ã—ãŸé©æ–°çš„ãªåŒ»ç™‚ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚æ‚£è€…ã®ãƒ‡ãƒ¼ã‚¿ä¸»æ¨©ã‚’å®Œå…¨ã«ä¿è­·ã—ãªãŒã‚‰ã€åŒ»ç™‚AIã®ç™ºå±•ã‚’åŠ é€Ÿã•ã›ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ã¦ã„ã¾ã™ã€‚

### ğŸ¯ è§£æ±ºã™ã‚‹èª²é¡Œ

- **ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¾µå®³**: å¾“æ¥ã®åŒ»ç™‚ãƒ‡ãƒ¼ã‚¿å…±æœ‰ã§ã¯æ‚£è€…ã®å€‹äººæƒ…å ±ãŒéœ²å‡ºã™ã‚‹ãƒªã‚¹ã‚¯
- **ãƒ‡ãƒ¼ã‚¿ä¸»æ¨©ã®æ¬ å¦‚**: æ‚£è€…ãŒè‡ªèº«ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã§ããªã„
- **AIé–‹ç™ºã®åœæ»**: ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼è¦åˆ¶ã«ã‚ˆã‚ŠåŒ»ç™‚AIã®å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ãŒä¸è¶³
- **ä¿¡é ¼æ€§ã®å•é¡Œ**: ãƒ‡ãƒ¼ã‚¿åˆ†æçµæœã®æ”¹ã–ã‚“ã‚„ä¸æ­£ã‚¢ã‚¯ã‚»ã‚¹ã®ãƒªã‚¹ã‚¯

### ğŸ’¡ NextMedã®ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

```mermaid
graph LR
    A[æ‚£è€…ãƒ‡ãƒ¼ã‚¿] -->|ZKæš—å·åŒ–| B[Midnight Blockchain]
    B -->|ZKè¨¼æ˜| C[AIåˆ†æ]
    C -->|çµ±è¨ˆã®ã¿| D[ç ”ç©¶è€…]
    B -->|å®Œå…¨ç§˜åŒ¿| E[ç”Ÿãƒ‡ãƒ¼ã‚¿éå…¬é–‹]
    
    style A fill:#e1f5ff
    style B fill:#ffe1e1
    style C fill:#e1ffe1
    style D fill:#fff5e1
    style E fill:#ff9999
```

1. **ã‚¼ãƒ­çŸ¥è­˜è¨¼æ˜ï¼ˆZKï¼‰**: æ‚£è€…ãƒ‡ãƒ¼ã‚¿ã‚’æš—å·åŒ–ã—ãŸã¾ã¾åˆ†æå¯èƒ½
2. **ZK-MLï¼ˆã‚¼ãƒ­çŸ¥è­˜æ©Ÿæ¢°å­¦ç¿’ï¼‰**: AIãƒ¢ãƒ‡ãƒ«ã®åˆ†æçµæœã¨è¨¼æ˜ã®ã¿ã‚’æä¾›
3. **ãƒ‡ãƒ¼ã‚¿ä¸»æ¨©**: æ‚£è€…ãŒè‡ªèº«ã®ãƒ‡ãƒ¼ã‚¿ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’å®Œå…¨ã«ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«
4. **æ”¹ã–ã‚“é˜²æ­¢**: ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã«ã‚ˆã‚‹é€æ˜æ€§ã¨ç›£æŸ»å¯èƒ½æ€§

## ğŸ—ï¸ ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### å…¨ä½“æ§‹æˆå›³

```mermaid
graph TB
    subgraph "ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå±¤"
        FE[Next.js Frontend<br/>React 19.2.0]
        Wallet[Lace Wallet<br/>Chrome Extension]
    end
    
    subgraph "ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤"
        CLI[CLI Tool<br/>TypeScript]
    end
    
    subgraph "Midnight Network"
        Contract[NextMed Smart Contract<br/>Compact Language]
        Indexer[Midnight Indexer<br/>Public Data Provider]
        Node[Midnight Node<br/>Testnet-02]
        ProofServer[Proof Server<br/>ZK Proof Generation]
    end
    
    subgraph "ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸"
        Ledger[(Public Ledger<br/>On-Chain State)]
        Private[(Private State<br/>Off-Chain)]
    end
    
    FE -->|DApp Connector| Wallet
    Wallet -->|Sign Tx| Contract
    CLI -->|Deploy/Interact| Contract
    Contract -->|Read/Write| Ledger
    Contract -->|ZK Proof| ProofServer
    Contract -->|Witness Data| Private
    Indexer -->|Index| Ledger
    Node -->|Execute| Contract
    
    style Contract fill:#e1f5ff
    style Ledger fill:#ffe1e1
    style Private fill:#e1ffe1
    style ProofServer fill:#fff5e1
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```mermaid
sequenceDiagram
    actor Patient as æ‚£è€…
    participant FE as Frontend
    participant Wallet as Lace Wallet
    participant Contract as Smart Contract
    participant Ledger as Public Ledger
    participant PS as Proof Server
    
    Patient->>FE: 1. ãƒ‡ãƒ¼ã‚¿å…¥åŠ›
    FE->>Wallet: 2. ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç½²åè¦æ±‚
    Wallet->>Contract: 3. registerPatient(age, gender, conditionHash)
    Contract->>PS: 4. ZKè¨¼æ˜ç”Ÿæˆ
    PS-->>Contract: 5. ZKè¨¼æ˜
    Contract->>Ledger: 6. æš—å·åŒ–ãƒ‡ãƒ¼ã‚¿ä¿å­˜
    Contract-->>Wallet: 7. patientId
    Wallet-->>FE: 8. ç™»éŒ²å®Œäº†
    FE-->>Patient: 9. ç¢ºèªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
    
    Note over Contract,Ledger: ç”Ÿãƒ‡ãƒ¼ã‚¿ã¯æ±ºã—ã¦å…¬é–‹ã•ã‚Œãªã„<br/>ZKè¨¼æ˜ã®ã¿ãŒæ¤œè¨¼ã•ã‚Œã‚‹
```

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒ¢ãƒãƒ¬ãƒæ§‹æˆ

```
NextMed/
â”œâ”€â”€ pkgs/
â”‚   â”œâ”€â”€ contract/     # Midnight Smart Contract (Compact)
â”‚   â”œâ”€â”€ cli/          # CLI Tool (TypeScript)
â”‚   â””â”€â”€ frontend/     # Web Application (Next.js)
â””â”€â”€ references/
    â””â”€â”€ helixchain/   # Reference Implementation
```

### ã‚³ã‚¢æŠ€è¡“

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|---------|------|-----------|------|
| **Blockchain** | Midnight Network | Testnet-02 | ZKå¯¾å¿œãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ |
| **Smart Contract** | Compact | 0.17.0 | ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¿è­·ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆ |
| **Runtime** | @midnight-ntwrk/compact-runtime | 0.9.0 | ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆå®Ÿè¡Œç’°å¢ƒ |
| **Frontend** | Next.js | 16.0.0 | App Routerå¯¾å¿œ |
| **UI Framework** | React | 19.2.0 | æœ€æ–°ã®Reactæ©Ÿèƒ½ |
| **Styling** | Tailwind CSS | 4.1.9 | ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ |
| **Components** | Radix UI + shadcn/ui | Latest | ã‚¢ã‚¯ã‚»ã‚·ãƒ–ãƒ«ãªUI |
| **Form** | React Hook Form + Zod | Latest | å‹å®‰å…¨ãªãƒ•ã‚©ãƒ¼ãƒ  |
| **Package Manager** | pnpm | 10.20.0 | é«˜é€Ÿãƒ»åŠ¹ç‡çš„ |
| **Language** | TypeScript | 5.x | å‹å®‰å…¨æ€§ |
| **Testing** | Vitest | 4.0.8 | é«˜é€Ÿãƒ†ã‚¹ãƒˆ |
| **Formatter** | Biome | 2.3.2 | çµ±ä¸€ã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã‚¹ã‚¿ã‚¤ãƒ« |

### Midnight SDK

```typescript
// ä¸»è¦ãªMidnight SDKãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
@midnight-ntwrk/compact-runtime       // ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆå®Ÿè¡Œ
@midnight-ntwrk/midnight-js-contracts // ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆé€£æº
@midnight-ntwrk/wallet                // ã‚¦ã‚©ãƒ¬ãƒƒãƒˆç®¡ç†
@midnight-ntwrk/ledger                // å°å¸³æ“ä½œ
@midnight-ntwrk/zswap                 // ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³
```

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### å‰ææ¡ä»¶

- **Node.js**: 18 LTSä»¥ä¸Š
- **pnpm**: 10.20.0
- **Docker**: æœ€æ–°ç‰ˆï¼ˆProof Serverç”¨ï¼‰
- **Chrome**: 119ä»¥ä¸Šï¼ˆLace Walletç”¨ï¼‰

### 1. ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³

```bash
git clone https://github.com/your-org/nextmed.git
cd nextmed
```

### 2. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pnpm install

# Gitã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®åˆæœŸåŒ–
git submodule update --init --recursive
```

### 3. Proof Serverã®èµ·å‹•

```bash
# DockerçµŒç”±ã§Proof Serverã‚’èµ·å‹•
docker run -p 6300:6300 midnightnetwork/proof-server -- \
  'midnight-proof-server --network testnet'

# èµ·å‹•ç¢ºèª
docker ps
# localhost:6300ã§ã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ã¦ã„ã‚Œã°OK
```

### 4. Lace Walletã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

1. [Lace Wallet](https://www.lace.io/)ã‚’Chromeã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
2. æ–°ã—ã„ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã‚’ä½œæˆ
3. Testnet-02ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«æ¥ç¶š
4. [Faucet](https://faucet.midnight.network/)ã‹ã‚‰tDUSTã‚’å–å¾—

### 5. ã‚¹ãƒãƒ¼ãƒˆã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®ãƒ“ãƒ«ãƒ‰

```bash
# Compactã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«
pnpm contract compact:all

# TypeScriptã®ãƒ“ãƒ«ãƒ‰
pnpm contract build

# ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ
pnpm contract test
```

### 6. ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã®ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
# CLIãƒ„ãƒ¼ãƒ«ã®ãƒ“ãƒ«ãƒ‰
pnpm cli build

# Testnetã¸ãƒ‡ãƒ—ãƒ­ã‚¤
pnpm cli deploy:patient-registry

# ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã€.envãƒ•ã‚¡ã‚¤ãƒ«ã®CONTRACT_ADDRESSã‚’æ›´æ–°
```

### 7. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®èµ·å‹•

```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•
pnpm frontend dev

# ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:3000 ã‚’é–‹ã
```

## ğŸ“‹ ä¸»è¦æ©Ÿèƒ½

### 1. æ‚£è€…ãƒ‡ãƒ¼ã‚¿ç™»éŒ²

```typescript
// æ‚£è€…ãŒè‡ªèº«ã®åŒ»ç™‚ãƒ‡ãƒ¼ã‚¿ã‚’ç™»éŒ²
await contract.registerPatient({
  age: 30,
  gender: 'Male',
  symptoms: ['ç—‡çŠ¶1', 'ç—‡çŠ¶2'],
  medicationHistory: ['è–¬å‰¤A', 'è–¬å‰¤B'],
  pastVisits: [
    { date: '2024-01-15', diagnosis: 'è¨ºæ–­å' }
  ]
});
```

**ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¿è­·**:
- æ°åã€ä½æ‰€ã€é›»è©±ç•ªå·ã¯å®Œå…¨ã«ç§˜åŒ¿ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ä¿å­˜ã®ã¿ï¼‰
- å¹´é½¢ã€æ€§åˆ¥ã¯çµ±è¨ˆç”¨ã«æš—å·åŒ–ã—ã¦ä¿å­˜
- ç—‡çŠ¶ã€è–¬æ­´ã¯ãƒãƒƒã‚·ãƒ¥åŒ–ã—ã¦ä¿å­˜

### 2. ãƒ‡ãƒ¼ã‚¿ã‚¯ã‚¨ãƒªï¼ˆç ”ç©¶è€…å‘ã‘ï¼‰

```typescript
// é›†è¨ˆçµ±è¨ˆã®ã¿ã‚’å–å¾—ï¼ˆå€‹åˆ¥ãƒ‡ãƒ¼ã‚¿ã¯éå…¬é–‹ï¼‰
const stats = await contract.getAggregatedStats({
  queryType: 'DEMOGRAPHIC'
});

// è¿”å´ã•ã‚Œã‚‹çµ±è¨ˆãƒ‡ãƒ¼ã‚¿
{
  totalPatients: 1000,
  averageAge: 45,
  genderDistribution: {
    male: 480,
    female: 520
  },
  topRegion: 'Tokyo'
}
```

**ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¿è­·**:
- å€‹åˆ¥ã®æ‚£è€…ãƒ‡ãƒ¼ã‚¿ã¯æ±ºã—ã¦éœ²å‡ºã—ãªã„
- é›†è¨ˆçµ±è¨ˆã®ã¿ã‚’æä¾›
- ã™ã¹ã¦ã®ã‚¯ã‚¨ãƒªã¯ç›£æŸ»ãƒ­ã‚°ã«è¨˜éŒ²

### 3. AIåˆ†æå®Ÿè¡Œ

```typescript
// ZK-MLã«ã‚ˆã‚‹ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¿è­·AIåˆ†æ
const result = await contract.executeAIAnalysis({
  patientId: '0x...',
  analysisType: 'RISK_ASSESSMENT',
  model: 'diabetes-prediction-v1'
});

// è¿”å´ã•ã‚Œã‚‹åˆ†æçµæœ
{
  riskScore: 0.75,
  confidence: 0.92,
  zkProof: '0x...', // åˆ†æã®æ­£å½“æ€§ã‚’è¨¼æ˜
  timestamp: 1234567890
}
```

**ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¿è­·**:
- ç”Ÿãƒ‡ãƒ¼ã‚¿ã¯AIãƒ¢ãƒ‡ãƒ«ã«æ¸¡ã•ã‚Œãªã„
- åˆ†æçµæœã¨ZKè¨¼æ˜ã®ã¿ã‚’è¿”å´
- è¨ˆç®—ã®æ­£å½“æ€§ã‚’æ¤œè¨¼å¯èƒ½

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

### å˜ä½“ãƒ†ã‚¹ãƒˆ

```bash
# Contractã®å˜ä½“ãƒ†ã‚¹ãƒˆ
pnpm contract test

# CLIã®å˜ä½“ãƒ†ã‚¹ãƒˆ
pnpm cli test

# Frontendã®å˜ä½“ãƒ†ã‚¹ãƒˆ
pnpm frontend test
```

### E2Eãƒ†ã‚¹ãƒˆ

```bash
# Playwrightã«ã‚ˆã‚‹ãƒ–ãƒ©ã‚¦ã‚¶ãƒ†ã‚¹ãƒˆ
pnpm frontend test:e2e

# ã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒ­ãƒ³ç’°å¢ƒã§ã®ãƒ†ã‚¹ãƒˆ
pnpm cli test-api
```

### ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸

```bash
# ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã®ç”Ÿæˆ
pnpm test:coverage

# ã‚«ãƒãƒ¬ãƒƒã‚¸ã®ç¢ºèª
open coverage/index.html
```

## ğŸ“Š å‡¦ç†ã‚·ãƒ¼ã‚±ãƒ³ã‚¹

### æ‚£è€…ãƒ‡ãƒ¼ã‚¿ç™»éŒ²ãƒ•ãƒ­ãƒ¼

```mermaid
sequenceDiagram
    actor Patient
    participant FE as Frontend
    participant Wallet
    participant Contract
    participant Witness
    participant Ledger
    participant PS as Proof Server
    
    Patient->>FE: ãƒ‡ãƒ¼ã‚¿å…¥åŠ›
    FE->>FE: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆæ¤œè¨¼
    FE->>Wallet: ç½²åè¦æ±‚
    Wallet->>Patient: ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°
    Patient->>Wallet: æ‰¿èª
    Wallet->>Contract: registerPatient()
    Contract->>Witness: getSecretKey()
    Witness-->>Contract: secretKey
    Contract->>Contract: patientIdç”Ÿæˆ
    Contract->>PS: ZKè¨¼æ˜ç”Ÿæˆ
    PS-->>Contract: ZKè¨¼æ˜
    Contract->>Ledger: ãƒ‡ãƒ¼ã‚¿ä¿å­˜
    Contract-->>Wallet: patientId
    Wallet-->>FE: å®Œäº†
    FE-->>Patient: ç¢ºèªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
```

### ãƒ‡ãƒ¼ã‚¿ã‚¯ã‚¨ãƒªãƒ•ãƒ­ãƒ¼

```mermaid
sequenceDiagram
    actor Researcher
    participant FE as Frontend
    participant Contract
    participant Ledger
    
    Researcher->>FE: ã‚¯ã‚¨ãƒªæ¡ä»¶å…¥åŠ›
    FE->>Contract: getAggregatedStats()
    Contract->>Ledger: å…¨ãƒ‡ãƒ¼ã‚¿é›†è¨ˆ
    Ledger-->>Contract: çµ±è¨ˆãƒ‡ãƒ¼ã‚¿
    Contract->>Contract: recordQuery()
    Contract-->>FE: é›†è¨ˆçµæœ
    FE-->>Researcher: çµ±è¨ˆè¡¨ç¤º
    
    Note over Contract,Ledger: å€‹åˆ¥ãƒ‡ãƒ¼ã‚¿ã¯éå…¬é–‹<br/>çµ±è¨ˆã®ã¿æä¾›
```

## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¿è­·ã®3æ®µéš

1. **å®Œå…¨ç§˜åŒ¿**: æ°åã€ä½æ‰€ã€é›»è©±ç•ªå·ã€ä¿é™ºID
   - ãƒ­ãƒ¼ã‚«ãƒ«ä¿å­˜ã®ã¿
   - ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã«ã¯ä¸€åˆ‡ä¿å­˜ã—ãªã„

2. **ãƒãƒƒã‚·ãƒ¥åŒ–**: ç—‡çŠ¶ã€è–¬æ­´ã€å—è¨ºæ­´
   - `persistentHash()`ã§ãƒãƒƒã‚·ãƒ¥åŒ–
   - å…ƒãƒ‡ãƒ¼ã‚¿ã¯å¾©å…ƒä¸å¯èƒ½

3. **çµ±è¨ˆãƒ‡ãƒ¼ã‚¿**: å¹´é½¢ã€æ€§åˆ¥ã€åœ°åŸŸ
   - `disclose()`ã§ãƒ©ãƒƒãƒ—ã—ã¦ä¿å­˜
   - é›†è¨ˆçµ±è¨ˆã®ã¿å…¬é–‹

### ã‚¼ãƒ­çŸ¥è­˜è¨¼æ˜

```compact
// Compactè¨€èªã«ã‚ˆã‚‹ZKè¨¼æ˜
export circuit registerPatient(
  age: Uint<8>,
  gender: Uint<8>,
  medicalDataHash: Bytes<32>
): Bytes<32> {
  // witnessé–¢æ•°ã§ç§˜å¯†éµã‚’å–å¾—ï¼ˆå…¬é–‹ã•ã‚Œãªã„ï¼‰
  const secretKey = getSecretKey();
  
  // æ‚£è€…IDã‚’ç”Ÿæˆï¼ˆç§˜å¯†éµã®ãƒãƒƒã‚·ãƒ¥ï¼‰
  const patientId = persistentHash<Bytes<32>>(secretKey);
  
  // ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ï¼ˆdisclose()ã§æ˜ç¤ºçš„ã«å…¬é–‹ï¼‰
  patientAges.insert(patientId, disclose(age));
  patientGenders.insert(patientId, disclose(gender));
  patientConditions.insert(patientId, disclose(medicalDataHash));
  
  return patientId;
}
```

## ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [è¦ä»¶å®šç¾©æ›¸](.kiro/specs/nextmed-mvp/requirements.md)
- [è¨­è¨ˆæ›¸](.kiro/specs/nextmed-mvp/design.md)
- [ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ](.kiro/specs/nextmed-mvp/tasks.md)
- [Midnightå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://docs.midnight.network/)
- [Compactè¨€èªãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹](https://docs.midnight.network/develop/reference/compact/)

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æ­“è¿ã—ã¾ã™ï¼å¤§ããªå¤‰æ›´ã®å ´åˆã¯ã€ã¾ãšissueã‚’é–‹ã„ã¦å¤‰æ›´å†…å®¹ã‚’è­°è«–ã—ã¦ãã ã•ã„ã€‚

### é–‹ç™ºãƒ•ãƒ­ãƒ¼

1. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯
2. ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ (`git checkout -b feature/amazing-feature`)
3. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ (`git commit -m 'feat: Add amazing feature'`)
4. ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ (`git push origin feature/amazing-feature`)
5. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ

### ã‚³ãƒŸãƒƒãƒˆè¦ç´„

[Conventional Commits](https://www.conventionalcommits.org/)ã«å¾“ã£ã¦ãã ã•ã„ï¼š

- `feat:` æ–°æ©Ÿèƒ½
- `fix:` ãƒã‚°ä¿®æ­£
- `docs:` ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- `test:` ãƒ†ã‚¹ãƒˆ
- `refactor:` ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
- `chore:` ãã®ä»–

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯[MIT License](LICENSE)ã®ä¸‹ã§ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã•ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ™ è¬è¾

- [Midnight Network](https://midnight.network/) - ZKå¯¾å¿œãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 
- [HelixChain](references/helixchain/) - å‚è€ƒå®Ÿè£…
- ã™ã¹ã¦ã®ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚¿ãƒ¼

## ğŸ“ ãŠå•ã„åˆã‚ã›

- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒªãƒ³ã‚¯**: [https://github.com/your-org/nextmed](https://github.com/your-org/nextmed)
- **Issue Tracker**: [https://github.com/your-org/nextmed/issues](https://github.com/your-org/nextmed/issues)
- **Discord**: [Join our community](https://discord.gg/midnight)

---

<div align="center">

**ğŸ¥ NextMed - åŒ»ç™‚ãƒ‡ãƒ¼ã‚¿ã®æœªæ¥ã‚’ã€ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¨ã¨ã‚‚ã« ğŸ”**

Made with â¤ï¸ by NextMed Team

</div>